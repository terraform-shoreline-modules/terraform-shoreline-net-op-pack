# Notebook for network-util module
resource "shoreline_notebook" "network_util_notebook" {
  name = "${var.prefix}util_notebook"
  description = "Notebook for testing network connectivity and latency across a fleet of machines."
  
  data = "{\n  \"cells\": [\n    {\n      \"content\": \"# Check connectivity and latency\\nManually check connectivity and latency (via ping to a well known server) on a set of pods\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"MARKDOWN\"\n    },\n    {\n      \"content\": \"pods | name =~ 'shoreline' | net_ping('8.8.8.8')\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"OP_LANG\"\n    },\n    {\n      \"content\": \"# Check DNS\\nManually check DNS on a set of pods\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"MARKDOWN\"\n    },\n    {\n      \"content\": \"pods | name =~ 'shoreline' | net_dig_ip('example.com')\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"OP_LANG\"\n    },\n    {\n      \"content\": \"# Check HTTP response code\\nManually check HTTP response code from a set of pods\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"MARKDOWN\"\n    },\n    {\n      \"content\": \"pods | name =~ 'shoreline' | net_curl('https://www.example.com/')\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"OP_LANG\"\n    },\n    {\n      \"content\": \"# Check connection counts\\nManually check connection counts on a set of pods\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"MARKDOWN\"\n    },\n    {\n      \"content\": \"pods | name =~ 'shoreline' | net_connections_to_local_port('tcp', '5555')\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"OP_LANG\"\n    },\n    {\n      \"content\": \"pods | name =~ 'shoreline' | net_connections_to_remote_port('tcp', '5555')\",\n      \"enabled\": true,\n      \"name\": \"unnamed\",\n      \"type\": \"OP_LANG\"\n    }\n  ],\n  \"enabled\": true,\n  \"params\": []\n}"
}
